
@inject HttpClient Http

<UrlInput OnUrlProvided="UrlHandler"/>

@if (markedUpContent.Value != null)
{
    @markedUpContent
}

@code {

    private MarkupString markedUpContent;

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    async Task UrlHandler(Uri uri)
    {

        var translatedContent = await Http.PostAsJsonAsync("ListingTranslation", uri);
        var content = await translatedContent.Content.ReadAsStringAsync();
        markedUpContent = new MarkupString(content);
    }

}
